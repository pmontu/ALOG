<span ng-show="stage==1">
	<button ng-click="stage=2">add</button>
</span>

<span ng-show="stage==2">

	<select ng-change="save()" ng-model="myCode" ng-options="code.display for code in codes"></select>
	<button ng-click="save()">save</button>

</span>

<span ng-show="stage==3">
	done {{msg}}
</span>

<span ng-show="stage==4">
	error
</span>

{{myCode.id}} {{date}} {{hour}}